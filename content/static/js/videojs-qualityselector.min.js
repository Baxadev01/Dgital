(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.videojsQualityselector=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(f,g,e){(function(h){Object.defineProperty(e,"__esModule",{value:true});var j=(function(){function q(u,s){for(var r=0;r<s.length;r++){var t=s[r];t.enumerable=t.enumerable||false;t.configurable=true;if("value" in t){t.writable=true}Object.defineProperty(u,t.key,t)}}return function(t,r,s){if(r){q(t.prototype,r)}if(s){q(t,s)}return t}})();function p(q){return q&&q.__esModule?q:{"default":q}}function m(q,r){if(!(q instanceof r)){throw new TypeError("Cannot call a class as a function")}}var n=(typeof window!=="undefined"?window.videojs:typeof h!=="undefined"?h.videojs:null);var o=p(n);var k=(function(){function r(u){m(this,r);this.player=u;this.sources=[];this.callback=undefined;this.containerDropdownElement=undefined;this.defaults={}}j(r,[{key:"onQualitySelect",value:function q(y){var x=this;if(this.callback){this.callback(y)}if(this.sources){var v=this.sources.find(function(z){return z.format===y.code});if(v){this.player.src({src:v.src,type:v.type});this.player.on("loadedmetadata",function(){x.player.play();Array.from(x.containerDropdownElement.firstChild.childNodes).forEach(function(z){if(z.dataset.code===y.code){z.setAttribute("class","current")}else{z.removeAttribute("class")}})})}var u=document.getElementById(this.player.id_);var w=u.getElementsByClassName("vjs-brand-quality-link");if(w&&w.length>0){w[0].innerText=y.name}}this.onToggleDropdown()}},{key:"onToggleDropdown",value:function t(){if(this.containerDropdownElement.className.indexOf("show")===-1){this.containerDropdownElement.className+=" show"}else{var u=this.containerDropdownElement.className.replace(" show","");this.containerDropdownElement.className=u}}},{key:"onPlayerReady",value:function s(v){var x=this;this.containerDropdownElement=document.createElement("div");this.containerDropdownElement.className="vjs-quality-dropdown";var z=document.createElement("div");z.className="vjs-quality-container";var y=document.createElement("button");y.className="vjs-brand-quality-link";y.onclick=function(A){return x.onToggleDropdown(A)};y.innerText=v.text||"Quality";var u=document.createElement("ul");if(!v.formats){v.formats=[{code:"auto",name:"Auto"}]}if(v.onFormatSelected){this.callback=v.onFormatSelected}if(v.sources){this.sources=v.sources}v.formats.map(function(B){var C=document.createElement("li");C.dataset.code=B.code;var A=document.createElement("a");A.innerText=B.name;A.setAttribute("href","#");A.addEventListener("click",function(D){D.preventDefault();x.onQualitySelect(B)});C.appendChild(A);u.appendChild(C)});this.containerDropdownElement.appendChild(u);z.appendChild(this.containerDropdownElement);z.appendChild(y);var w=this.player.controlBar.fullscreenToggle.el();this.player.controlBar.el().insertBefore(z,w);this.player.addClass("vjs-qualityselector")}}]);return r})();var i=function i(q){var r=this;this.ready(function(){var s=new k(r);s.onPlayerReady(o["default"].mergeOptions(s.defaults,q))})};var l=o["default"].registerPlugin||o["default"].plugin;l("qualityselector",i);i.VERSION="0.0.4";e["default"]=i;g.exports=e["default"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});